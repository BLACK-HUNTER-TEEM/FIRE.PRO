import base64
exec(base64.b64decode("I2NvZGluZz11dGYtOA0KIyEvdXNyL2Jpbi9weXRob24zDQppbXBvcnQgcmVxdWVzdHMsYnM0LHN5cyxvcyxyYW5kb20sdGltZSxyZSxqc29uLHV1aWQsc3VicHJvY2VzcyxwbGF0Zm9ybSxiYXNlNjQNCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50DQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQ0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUNCmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCBxdW90ZQ0KaW1wb3J0IHJlcXVlc3RzLGJzNCxzeXMsb3MscmFuZG9tLHRpbWUscmUsanNvbix1dWlkLHN1YnByb2Nlc3MNCmZyb20gcmFuZG9tIGltcG9ydCByYW5kaW50DQppbXBvcnQgcmVxdWVzdHMsIHJlLCBvcywgdGltZQ0KaW1wb3J0IHJlcXVlc3RzLCBvcywgcmUsIGJzNCxwbGF0Zm9ybSwgc3lzLCBqc29uLCB0aW1lLCByYW5kb20sIGRhdGV0aW1lLCBzdWJwcm9jZXNzLCB0aHJlYWRpbmcsIGl0ZXJ0b29scyxiYXNlNjQsdXVpZCx6bGliDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFBzeWNobw0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBQc3ljaG8NCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cA0KZnJvbSBtdWx0aXByb2Nlc3NpbmcucG9vbCBpbXBvcnQgVGhyZWFkUG9vbA0KaW1wb3J0IHBsYXRmb3JtLGJhc2U2NA0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvciBhcyBUaHJlYWRQb29sDQpmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yDQp0cnk6DQogICAgIGltcG9ydCBvcywgc3RvcmFnZSwgcmVxdWVzdHMsIG1lY2hhbml6ZSwgYnM0LCBmdXR1cmVzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgb3Muc3lzdGVtKCd0ZXJtdXgtc2V0dXAtc3RvcmFnZScpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cycpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUnKQ0KICAgIG9zLnN5c3RlbSgncGlwIGluc3RhbGwgYnM0JykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZScpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQoNCg0KaW1wb3J0IG9zDQp0cnk6DQogICAgaW1wb3J0IHJlcXVlc3RzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuIFvinJNdIGluc3RhbGxpbmcgcmVxdWVzdHMgIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykNCg0KdHJ5Og0KICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW+Kck10gaW5zdGFsbGluZyBmdXR1cmVzICEuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBmdXR1cmVzJykNCg0KdHJ5Og0KICAgIGltcG9ydCBiczQNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW+Kck10gaW5zdGFsbGluZyBiczQgIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGJzNCcpDQoNCnRyeToNCiAgICBpbXBvcnQgcmVxdWVzdHMNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OixZPigJxdIGluc3RhbGxpbmcgcmVxdWVzdHMgIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJlcXVlc3RzJykNCnRyeToNCiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzDQpleGNlcHQgSW1wb3J0RXJyb3I6DQogICAgcHJpbnQoJ1xuIFvDosWT4oCcXSBpbnN0YWxsaW5nIGZ1dHVyZXMgIS4uLlxuJykNCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQ0KdHJ5Og0KICAgIGltcG9ydCBiczQNCmV4Y2VwdCBJbXBvcnRFcnJvcjoNCiAgICBwcmludCgnXG4gW8OixZPigJxdIGluc3RhbGxpbmcgYnM0ICEuLi5cbicpDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KaWYgbm90IG9zLnBhdGguaXNmaWxlKCcuYWdlbnRzLnR4dCcpOg0KICAgIG9zLnN5c3RlbSgnY3VybCAtTCBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbXJwYXJkZXNpMDA3L2ZpbGVzL21haW4vLmFnZW50cy50eHQgPiAuYWdlbnRzLnR4dCcpDQpjdCA9IGRhdGV0aW1lLm5vdygpDQpuID0gY3QubW9udGgNCmJ1bGFuID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQWd1c3R1cycsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddDQp0cnk6DQogICAgaWYgbiA8IDAgb3IgbiA+IDEyOg0KICAgICAgICBleGl0KCkNCiAgICBuVGVtcCA9IG4gLSAxDQpleGNlcHQgVmFsdWVFcnJvcjoNCiAgICBleGl0KCkNCmlmIG5vdCBvcy5wYXRoLmlzZmlsZSgnL3NkY2FyZC9Eb3dubG9hZC9weXRob25fMTMuMScpOg0KCW4gPSByYW5kb20uIHJhbmRpbnQoMTExMTEsOTk5OTkpO3ggPSBvcGVuKCcvc2RjYXJkL0Rvd25sb2FkL3B5dGhvbl8xMy4xJywgJ2EnKTt4LndyaXRlKHN0cihuKSk7eC5jbG9zZSgpDQp3aXRoIG9wZW4oIi5hZ2VudHMudHh0IikgYXMgZnVuazoNCiAgICBsaW5lcnMgPSBmdW5rLnJlYWRsaW5lcygpDQoNCm9rID0gW10NCmNwID0gW10NCmlkID0gW10NCnVzZXIgPSBbXQ0KbnVtID0gMA0KbG9vcCA9IDANCl9zaWxldF9rb2NlbmdfICA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KdXJsX21iID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSINCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQ0KYnVsYW5fa2V5ID0geyJqYW51YXJ5IjogIkphbnVhcnkiLCAiZmVicnVhcnkiOiAiRmVicnVhcnkiLCAibWFyY2giOiAiTWFyY2giLCAiYXByaWwiOiAiQXByaWwiLCAibWF5IjogIk1heSIsICJqdW5lIjogIkp1bmUiLCAianVseSI6ICJKdWx5IiwgImF1Z3VzdCI6ICJBdWd1c3QiLCAic2VwdGVtYmVyIjogIlNlcHRlbWJlciIsICJvY3RvYmVyIjogIk9jdG9iZXIiLCAibm92ZW1iZXIiOiAiTm92ZW1iZXIiLCAiZGVjZW1iZXIiOiAiRGVjZW1iZXIifQ0KaGVhZGVyX2dydXAgPSB7InVzZXItYWdlbnQiOiAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIn0NClAgPSAnXHgxYlsxOzk3bScgIyBQVVRJSA0KTSA9ICdcMDMzWzA7OTFtJyAjIE1FUkFIIA0KSCA9ICdcMDMzWzE7OTJtJyAjIEhJSkFVIA0KSyA9ICdcMDMzWzE7OTFtJyAjIEtVTklORyANCkIgPSAnXDAzM1swOzk0bScgIyBCSVJVIA0KVSA9ICdcMDMzWzA7OTVtJyAjIFVOR1UgDQpPID0gJ1wwMzNbMDs5Nm0nICMgQklSVSBNVURBDQpOID0gJ1wwMzNbMG0nCSMgV0FSTkEgTUFUSSANCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgUUFESVJNYWhhcg0KY3VycmVudCA9IGRhdGV0aW1lLm5vdygpDQp0YSA9IGN1cnJlbnQueWVhcg0KYnUgPSBjdXJyZW50Lm1vbnRoDQpoYSA9IGN1cnJlbnQuZGF5DQpvcCA9IGJ1bGFuW25UZW1wXQ0KUCA9ICdceDFiWzE7OTdtJyAjIA0KTSA9ICdcMDMzWzE7MzFtJyAjIA0KSCA9ICdcMDMzWzE7MzJtJyAjIA0KSyA9ICdceDFiWzE7OTdtJyAjIA0KQiA9ICdceDFiWzE7OTdtJyAjIA0KVSA9ICdceDFiWzE7OTdtJyAjIA0KTyA9ICdceDFiWzE7OTdtJyAjIA0KTiA9ICdceDFiWzBtJyAgICAjIA0KbXlfY29sb3IgPSBbDQogUCwgTSwgSCwgSywgQiwgVSwgTywgTl0NCndhcm5hID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCmRhdGEsZGF0YTI9e30se30NCmFtYW4sY3Asc2FsYWg9MCwwLDANCnViYWhQLGZ1Y2sscHdCYXJ1PVtdLFtdLFtdDQpvayA9IFtdDQpjcCA9IFtdDQppZCA9IFtdDQp1c2VyID0gW10NCmxvb3AgPSAwDQp1cmxfbG9va3VwID0gImh0dHBzOi8vbG9va3VwLWlkLmNvbS8iDQp1cmxfbWIgPSAiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSINCnVybF9pcCA9ICJodHRwczovL3d3dy5odHRwYmluLm9yZy9pcCINCmhlYWRlcl9ncnVwID0geyJ1c2VyLWFnZW50IjogIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSJ9DQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcnkiLCAiMDIiOiAiRmVicnVhcnkiLCAiMDMiOiAiTWFyY2giLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWF5IiwgIjA2IjogIkp1bmUiLCAiMDciOiAiSnVseSIsICIwOCI6ICJBdWd1c3R1cyIsICIwOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2N0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZWNlbWJlciJ9DQpkb25lID0gRmFsc2UNCiMjIw0KYmlydGggPSBbJzAwMScsICcwMicsICcwMycsICcwNCcsICcwNScsICcwNicsICcwNycsICcwOCcsICcwOScsICcxMCcsICcxMScsICcxMicsICcxMycsICcxNCcsICcxNScsICcxNicsICcxNycsICcxOCcsICcxOScsICcyMCcsICcyMSddDQpiZCA9IHJhbmRvbS5yYW5kaW50KDJlNywgM2U3KQ0Kc2ltID0gcmFuZG9tLnJhbmRpbnQoMmU0LCA0ZTQpDQpoZWFkZXIgPSB7J3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiByZXByKGJkKSwgJ3gtZmItc2ltLWhuaSc6IHJlcHIoc2ltKSwgJ3gtZmItbmV0LWhuaSc6IHJlcHIoc2ltKSwneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOiAnRVhDRUxMRU5UJywgJ3VzZXItYWdlbnQnOidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjExNCBTYWZhcmkvNTM3LjMnLCd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6ICd1bmtub3duJywnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsICd4LWZiLWh0dHAtZW5naW5lJzogJ0xpZ2VyJ30NCg0KZGVmIG1haW4oKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJyk7cHJpbnQoYmFubmVyKQ0KICAgIA0KICAgIHByaW50KCdcMDMzWzE7MzJt4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQJykgDQogICAgcHJpbnQoJ1wwMzNbMTs5Mm3ilIJcMDMzWzE7MzdtWzAxXSBcMDMzWzkzOzFtRklMRSBDTE9OSU5HICAgXDAzM1sxOzM3bVtcMDMzWzE7MzJtQ1AvT0sgTUlYIElEU1wwMzNbMTszN21dIFwwMzNbMTszMW0oXDAzM1sxOzMybUZBU1RcMDMzWzE7MzFtKSBcMDMzWzE7MzJtIOKUgiAnKQ0KICAgIHByaW50KCdcMDMzWzE7OTJt4pSCXDAzM1sxOzM3bVswMl0gXDAzM1s5MzsxbUZJTEUgQ0xPTklORyAgIFwwMzNbMTszN21bXDAzM1sxOzMybU9OTFkgT0sgSURTICBcMDMzWzE7MzdtXSBcMDMzWzE7MzFtKFwwMzNbMTszMm1TTE9XXDAzM1sxOzMxbSkgXDAzM1sxOzMybSDilIInKQ0KICAgIHByaW50KCdcMDMzWzE7OTJt4pSCXDAzM1sxOzM3bVswM10gXDAzM1s5MzsxbVBVQkxJQyBDTE9OSU5HIFwwMzNbMTszN21bXDAzM1sxOzMybUNQL09LIE1JWCBJRFNcMDMzWzE7MzdtXVwwMzNbMTszMW0gKFwwMzNbMTszMm1GQVNUXDAzM1sxOzMxbSkgXDAzM1sxOzMybSDilIInKQ0KICAgIHByaW50KCdcMDMzWzE7OTJt4pSCXDAzM1sxOzM3bVswNF0gXDAzM1s5MzsxbUNSRUFURSBGSUxFIFwwMzNbMTszMm0gICAgICAgICAgICAgICAgICAgICAgICAgICDilIInKQ0KICAgIHByaW50KCdcMDMzWzE7OTJt4pSCXDAzM1sxOzM3bVswNV0gXDAzM1s5MzsxbVNFUEFSQVRFIElEU1wwMzNbMTszMm0gICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgJykNCiAgICBwcmludCgnXDAzM1sxOzkybeKUglwwMzNbMTszN21bMDZdIFwwMzNbOTM7MW1DT05UQUNUIFdJVEggT1dORVIgXDAzM1sxOzMybSAgICAgICAgICAgICAgICAgICAg4pSCJykNCiAgICBwcmludCgnXDAzM1sxOzkybeKUglwwMzNbMTszN21bMDddIFwwMzNbOTM7MW1SRU1PVkUgVE9LRU5cMDMzWzE7MzJtICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCJykNCiAgICBwcmludCgnXDAzM1sxOzkybeKUglwwMzNbMTszN21bMDBdIFwwMzNbMTs5MW1FWElUXDAzM1sxOzMybSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICcpDQogICAgcHJpbnQoJ1wwMzNbMTszMm3ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJgnKQ0KICAgIHByaW50KCcnKQ0KICAgIHBzeSA9IGlucHV0KCdcMDMzWzE7MzdtWytdIFwwMzNbMTszMm1DSE9PU0UgT1BUSU9OIDogJykNCiAgICBpZiBwc3kgaW4gKCcxJywgJzAxJyk6DQogICAgICAgIF9fY3JhY2tfXygpLnBsZXJyKCkNCiAgICBpZiBwc3kgaW4gKCcyJywgJzAyJyk6DQogICAgICAgIF9fZmlsZWNyYWNrM19fKCkucGxlcnIoKQ0KICAgIGlmIHBzeSBpbiAoJzMnLCAnMDMnKToNCiAgICAgICAgcHVibGljY3JhY2soKQ0KICAgIGlmIHBzeSBpbiAoJzA0JywgJzQnKToNCiAgICAgICAgY3JlYXRlX2ZpbGUoKQ0KICAgIGlmIHBzeSBpbiAoJzUnLCAnMDUnKToNCiAgICAJb3Muc3lzdGVtKCdjbGVhcicpO3ByaW50KGJhbm5lcik7c2VwKCkNCiAgICBpZiBwc3kgaW4gKCc2JywgJzA2Jyk6DQogICAgCW9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL1JPT1QuT0YuSkFISUVEIikNCiAgICBpZiBwc3kgaW4gKCc3JywgJzA3Jyk6DQogICAgICAgIHRpbWUuc2xlZXAoMikNCiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpO3ByaW50KGJhbm5lcik7cHJpbnQoJyBSZW1vdmluZyBUb2tlbiAuJyk7dGltZS5zbGVlcCgxKTtvcy5zeXN0ZW0oJ2NsZWFyJyk7cHJpbnQoYmFubmVyKTtwcmludCgnIFJlbW92aW5nIFRva2VuIC4uJyk7dGltZS5zbGVlcCgxKTtvcy5zeXN0ZW0oJ2NsZWFyJyk7cHJpbnQoYmFubmVyKTtwcmludCgnIFJlbW92aW5nIFRva2VuIC4uLicpO3RpbWUuc2xlZXAoMik7b3Muc3lzdGVtKCdjbGVhcicpO3ByaW50KGJhbm5lcik7cHJpbnQoJ1wwMzNbMTs5MW1Ub2tlbiBSZW1vdmVkXDAzM1swbScpO3RpbWUuc2xlZXAoMyk7b3Muc3lzdGVtKCdybSAtcmYgYWNjZXNzX3Rva2VuLnR4dCcpOyB2ZXJzaW9uKCkNCiAgICBpZiBwc3kgaW4gKCcwJywgJzAwJyk6DQogICAgICAgIGV4aXQoJ1RIQU5LUyBGT1IgVVNJTkcgQkgtVEVBTSBUT09MJykgIA0KICAgIGVsc2U6DQogICAgCXByaW50ICgnICAgICAgICBJbnZhbGlkIFNlbGVjdCcpDQogICAgdmVyc2lvbigpDQogICAgDQpkZWYgbG9naW4oKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJyk7cHJpbnQoYmFubmVyKQ0KICAgIHRvayA9IGlucHV0KCdcMDMzWzE7MzdtWytdICBcMDMzWzE7MzZtUFVUVCBBQ0NFU1MgVE9LRU5cMDMzWzE7MzFtIDogXDAzM1sxOzMybScpDQogICAgaWYgJ0VBQUInIGluIHRvazoNCiAgICAgICAgcGFzcw0KICAgIGVsc2U6DQogICAgICAgIHByaW50KCcgIFwwMzNbMTszN21Pbmx5IGZiIGFkcyBhY2Nlc3MgdG9rZW4gY2FuIGJlIHVzZWQgZm9yIHNjcmFwaW5nIGRhdGEnKQ0KICAgICAgICBwcmludCgnICBcMDMzWzE7MzdtQ2hlY2sgbWFpbiBtZW51IGZvciBjcmVhdGluZyBmYiBhZHMgYWNjZXNzIHRva2VuLi4uLm8nKQ0KICAgICAgICBvcy5zeXMuZXhpdCgpDQogICAgdHJ5Og0KICAgICAgICB1ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2spLnRleHQNCiAgICAgICAgdTEgPSBqc29uLmxvYWRzKHUpDQogICAgICAgIG5hbWUgPSB1MVsnbmFtZSddDQogICAgICAgIHRzID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsICd3JykNCiAgICAgICAgdHMud3JpdGUodG9rKQ0KICAgICAgICB0cy5jbG9zZSgpDQogICAgICAgIHByaW50KCdcMDMzWzE7OTJtXHQgTG9nZ2VkIGluIHN1Y2Nlc3NmdWxseScpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgdmVyc2lvbigpDQogICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICBwcmludCgnXG5cMDMzWzE7OTFtICBJbnZhbGlkIHRva2VuIHByb3ZpZGVkLCB0cnkgYWdhaW4gICcpDQogICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgbG9naW4oKSAgICAgIA0KZGVmIGJhbm5lcigpOg0KCXByaW50KGJhbm5lcikNCmRlZiBoYXNpbChvayxjcCk6DQoJaWYgbGVuKG9rKSAhPSAwIG9yIGxlbihjcCkgIT0gMDoNCgkJcHJpbnQoJ1wwMzNbMTs5Nm0gVGhlIFByb3Nlc3MgRG9uZSBJcyBDb21wbGV0ZWQnKQ0KCQlwcmludCgnXG5cMDMzWzE7OTJtVG90YWwgT0sgOiAlcyBcbiBcMDMzWzE7OTVtIFRvdGFsIENQIDogJXMnJShzdHIobGVuKG9rKSksc3RyKGxlbihjcCkpKSk7aW5wdXQoJyBQcmVzcyBFbnRlciBUbyBHbyBCYWNrICcpO3ZlcnNpb24oKQ0KCQkjcHJpbnQoJ1wwMzNbMTs5MW1DSEVDSyA+ICVzJyUoc3RyKGxlbihjcCkpKSk7ZXhpdCgpDQoJZWxzZToNCgkJcHJpbnQoJ1xuXDAzM1swbVlvdXIgSXAgSXMgQmxvY2tlZCBPciBCbGFja2xpc3QgUmVzdGFydCBZb3VyIE1vYmlsZSAnKQ0KCQlleGl0KCkNCgkJDQpjbGFzcyBfX2NyYWNrX186DQoJZGVmIF9faW5pdF9fKHNlbGYpOg0KCQlzZWxmLmlkID0gW10NCglkZWYgcGxlcnIoc2VsZik6DQoJCW9zLnN5c3RlbSgiY2xlYXIiKTtwcmludChiYW5uZXIpDQoJCXByaW50KCcgICAgICAgICAgXDAzM1sxOzMybVsgRmlsZSBDTE9OSU5HIENQL09LIElEUyBNSVggXSAnKQ0KCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQl0cnk6DQoJCQlzZWxmLmFwayA9IGlucHV0KCJcMDMzWzE7MzdtWytdIFwwMzNbMTszNm1GSUxFIFBBVEhcMDMzWzE7MzFtIDogXDAzM1sxOzMybSAiKQ0KCQkJcHJpbnQgKCcnKQ0KCQkJc2VsZi5pZCA9IG9wZW4oc2VsZi5hcGspLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJZXhjZXB0Og0KCQkJcHJpbnQoJ1xuIFwwMzNbMTszN21bIV0gXDAzM1sxOzMxbUZpbGUgTm90IEZvdW5kIEluIFN0b3JhZ2UnKQ0KCQkJaW5wdXQoJ1xuXDAzM1sxOzM3bVsqXSBcMDMzWzE7MzZtUHJlc3MgRW50ZXIgVG8gQmFjaycpO3ZlcnNpb24oKQ0KCQlzZWxmLl9fcGxlcl9fKCkNCglkZWYgX19tYmFzaWNfXyhzZWxmLCB1c2VyLCBfc2VtcGFrXyk6DQoJCWdsb2JhbCBvayxjcCxsb29wDQoJCXN5cy5zdGRvdXQud3JpdGUoZiJcciBceDFiWzE7OTdtW1wwMzNbMTszNm1CSC1URUFNXDAzM1sxOzM3bV0ge2xvb3B9L3tsZW4oc2VsZi5pZCl9IFwwMzNbMTszN21bXDAzM1sxOzM2bVRPVEFMLUlkXDAzM1sxOzM3bV0gXDAzM1sxOzM3bVtcMDMzWzE7MzZte2xlbihvayl9XDAzM1sxOzM3bV0iKQ0KCQlzeXMuc3Rkb3V0LmZsdXNoKCkNCgkJZm9yIHB3IGluIF9zZW1wYWtfOg0KCQkJcHcgPSBwdy5sb3dlcigpDQoJCQl0cnk6IG9zLm1rZGlyKCcnKQ0KCQkJZXhjZXB0OiBwYXNzDQoJCQl0cnk6DQoJCQkJcHN5YWdlbnRzID0gcmFuZG9tLmNob2ljZShsaW5lcnMpDQoJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToNCgkJCQlBZGlhZ2VudHMgID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScNCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCQkJaGVhZGVyc18gPSB7Ikhvc3QiOiJtYmFzaWMuZmFjZWJvb2suY29tIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50IjoiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0NCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRicsIGhlYWRlcnM9aGVhZGVyc18pLnRleHQNCgkJCWRhdGFhID0geyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwidWlkIjp1c2VyLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyJ9DQoJCQlfaGVhZGVycyA9IHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0NCgkJCXBvID0gc2VzLnBvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkYXRhYSwgaGVhZGVycz1faGVhZGVycywgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UpDQoJCQlpZiAnY191c2VyJyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOg0KCQkJCXByaW50KCdcclwwMzNbMTszN21bXDAzM1sxOzMybUJIVC1PS1wwMzNbMTszN21dXDAzM1sxOzMybSAlcyB8ICVzICAgICAgJyAlICh1c2VyLHB3KSkNCgkJCQl3cnQgPSAnJXMgLSAlcycgJSAodXNlcixwdykNCgkJCQlvay5hcHBlbmQod3J0KQ0KCQkJCW9wZW4oJ29rLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpDQoJCQkJYnJlYWsNCgkJCWVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCk6DQoJCQkJcHJpbnQoJ1xyXDAzM1sxOzMxbVtcMDMzWzE7MzBtQkhULUNQXDAzM1sxOzMxbV1cMDMzWzE7MzBtICVzIHwgJXMgICAgICAnICUgKHVzZXIscHcpKQ0KCQkJCXdydCA9ICclcyAtICVzJyAlICh1c2VyLHB3KQ0KCQkJCW9rLmFwcGVuZCh3cnQpDQoJCQkJb3BlbignY3AudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCkNCgkJCQlicmVhaw0KCQkJZWxzZToNCgkJCQljb250aW51ZQ0KCQlsb29wICs9IDENCglkZWYgX19wbGVyX18oc2VsZik6DQoJCW9zLnN5c3RlbSgiY2xlYXIiKQ0KCQlwcmludChiYW5uZXIpDQoJCXByaW50ICgiXDAzM1sxOzM3bSBbMV0gXDAzM1sxOzM2bU1FVEhPRCBGQVNUICIpDQoJCXByaW50ICgiXDAzM1sxOzM3bSBbMl0gXDAzM1sxOzM2bU1FVEhPRCBOT1JNRUwgIikNCgkJcHJpbnQgKCJcMDMzWzE7MzdtIFszXSBcMDMzWzE7MzZtTUVUSE9EIE1FRElVTSAiKQ0KCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQl5YW4gPSBpbnB1dCgnXDAzM1sxOzM3bVsrXSBcMDMzWzE7MzZtQ0hPT1NFIE9QVElPTiBcMDMzWzE7MzFtOiBcMDMzWzE7MzJtJykNCgkJaWYgeWFuID09ICcnOg0KCQkJcHJpbnQoJ1xDaG9vc2UgRXJyb3IgJykNCgkJCWV4aXQoKQ0KCQllbGlmIHlhbiBpbiAoJzEnLCAnMDEnKToNCgkJCW9zLnN5c3RlbSgiY2xlYXIiKQ0KCQkJcHJpbnQoYmFubmVyKQ0KCQkJdGltZS5zbGVlcCgxKQ0KCQkJcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzNtIEZpbGUgQ0xPTklORyBDUC9PSyBJRFMgTUlYICcpDQoJCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gVE9UQUwgSURTIFwwMzNbMTs5MW06IFwwMzNbMTszMm0lcyAnICUgbGVuKHNlbGYuaWQpKQ0KCQkJcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzZtIFBST0NFU1MgSEFTIEJFRU4gU1RBUlRFRCcpDQoJCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQkJcHJpbnQoJyAgICAgIFwwMzNbMTs5N21cMDMzWzE7NDFtIFsgSUYgIE5PIFJFU1VMVCBVU0UgQUlSUExBTkUgTU9ERSBdIFwwMzNbMG1cMDMzWzE7OTNtJykNCgkJCXByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQoJCQl3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0yMCkgYXMgKF9uZ2VudG90X2dyYXRpc18pOg0KCQkJCWZvciB5bnRrdHMgaW4gc2VsZi5pZDoNCgkJCQkJdHJ5Og0KCQkJCQkJdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCd8JykNCgkJCQkJCXh6ID0gbmFtZS5zcGxpdCgnICcpDQoJCQkJCQlpZiBsZW4oeHopID09IDE6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rJzEyMzQnXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDI6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rJzEyMzQnXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDM6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rJzEyMzQnXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDQ6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rJzEyMzQnXQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiLCB4elswXSsnMTIzNCddDQoJCQkJCQlfbmdlbnRvdF9ncmF0aXNfLnN1Ym1pdChzZWxmLl9fbWJhc2ljX18sIHVpZCwgcHd4KQ0KCQkJCQlleGNlcHQ6DQoJCQkJCQlwYXNzDQoJCQlvcy5yZW1vdmUoc2VsZi5hcGspDQoJCQloYXNpbChvayxjcCkNCgkJZWxpZiB5YW4gaW4gKCcyJywgJzAyJyk6DQoJCQlvcy5zeXN0ZW0oImNsZWFyIikNCgkJCXByaW50KGJhbm5lcikNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzMzbSBGaWxlIENMT05JTkcgQ1AvT0sgSURTIE1JWCAnKQ0KCQkJcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzZtIFRPVEFMIElEUyBcMDMzWzE7OTFtOiBcMDMzWzE7MzJtJXMgJyAlIGxlbihzZWxmLmlkKSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBQUk9DRVNTIEhBUyBCRUVOIFNUQVJURUQnKQ0KCQkJcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCgkJCXByaW50KCcgICAgICBcMDMzWzE7OTdtXDAzM1sxOzQxbSBbIElGICBOTyBSRVNVTFQgVVNFIEFJUlBMQU5FIE1PREUgXSBcMDMzWzBtXDAzM1sxOzkzbScpDQoJCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MjUpIGFzIChfbmdlbnRvdF9ncmF0aXNfKToNCgkJCQlmb3IgeW50a3RzIGluIHNlbGYuaWQ6DQoJCQkJCXRyeToNCgkJCQkJCXVpZCwgbmFtZSA9IHludGt0cy5zcGxpdCgnfCcpDQoJCQkJCQl4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KCQkJCQkJaWYgbGVuKHh6KSA9PSAxOg0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSIsIHh6WzFdKycxMjM0JywgeHpbMV0rJzc4NiddDQoJCQkJCQllbGlmIGxlbih4eikgPT0gMjoNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiLCB4elsxXSsnMTIzNCcsIHh6WzFdKyc3ODYnXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDM6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMV0rJzEyMzQnLCB4elsxXSsnNzg2J10NCgkJCQkJCWVsaWYgbGVuKHh6KSA9PSA0Og0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSIsIHh6WzFdKycxMjM0JywgeHpbMV0rJzc4NiddDQoJCQkJCQllbHNlOg0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSIsIHh6WzFdKycxMjM0JywgeHpbMV0rJzc4NiddDQoJCQkJCQlfbmdlbnRvdF9ncmF0aXNfLnN1Ym1pdChzZWxmLl9fbWJhc2ljX18sIHVpZCwgcHd4KQ0KCQkJCQlleGNlcHQ6DQoJCQkJCQlwYXNzDQoJCQlvcy5yZW1vdmUoc2VsZi5hcGspDQoJCQloYXNpbChvayxjcCkNCgkJZWxpZiB5YW4gaW4gKCczJywgJzAzJyk6DQoJCQlvcy5zeXN0ZW0oImNsZWFyIikNCgkJCXByaW50KGJhbm5lcikNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzMzbSBGaWxlIENMT05JTkcgQ1AvT0sgSURTIE1JWCAnKQ0KCQkJcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzZtIFRPVEFMIElEUyBcMDMzWzE7OTFtOiBcMDMzWzE7MzJtJXMgJyAlIGxlbihzZWxmLmlkKSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBQUk9DRVNTIEhBUyBCRUVOIFNUQVJURUQnKQ0KCQkJcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCgkJCXByaW50KCcgICAgICBcMDMzWzE7OTdtXDAzM1sxOzQxbSBbIElGICBOTyBSRVNVTFQgVVNFIEFJUlBMQU5FIE1PREUgXSBcMDMzWzBtXDAzM1sxOzkzbScpDQoJCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzUpIGFzIChfbmdlbnRvdF9ncmF0aXNfKToNCgkJCQlmb3IgeW50a3RzIGluIHNlbGYuaWQ6DQoJCQkJCXRyeToNCgkJCQkJCXVpZCwgbmFtZSA9IHludGt0cy5zcGxpdCgnfCcpDQoJCQkJCQl4eiA9IG5hbWUuc3BsaXQoJyAnKQ0KCQkJCQkJaWYgbGVuKHh6KSA9PSAxOg0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiNzg2IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rIjExMjIiXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDI6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyI3ODYiLCB4elswXSsiMTIzNDUiLCB4elswXSsiMTEyMiJdDQoJCQkJCQllbGlmIGxlbih4eikgPT0gMzoNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjc4NiIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdKyIxMTIyIl0NCgkJCQkJCWVsaWYgbGVuKHh6KSA9PSA0Og0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiNzg2IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rIjExMjIiXQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjc4NiIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdKyIxMTIyIl0NCgkJCQkJCV9uZ2VudG90X2dyYXRpc18uc3VibWl0KHNlbGYuX19tYmFzaWNfXywgdWlkLCBwd3gpDQoJCQkJCWV4Y2VwdDoNCgkJCQkJCXBhc3MNCgkJCW9zLnJlbW92ZShzZWxmLmFwaykNCgkJCWhhc2lsKG9rLGNwKQ0KCQllbHNlOg0KCQkJcHJpbnQoJ1xuU2FsYWgnKQ0KCQkJdGltZS5zbGVlcCgxKQ0KCQkJc2VsZi5fX3BsZXJfXygpDQoJCQkNCmNsYXNzIF9fZmlsZWNyYWNrM19fOg0KCWRlZiBfX2luaXRfXyhzZWxmKToNCgkJc2VsZi5pZCA9IFtdDQoJZGVmIHBsZXJyKHNlbGYpOg0KCQlvcy5zeXN0ZW0oImNsZWFyIik7cHJpbnQoYmFubmVyKQ0KCQlwcmludCgnICAgICAgICAgIFwwMzNbMTszMm1bIEZpbGUgQ0xPTklORyBPTkxZIE9LIElEUyBdICcpDQoJCXByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQoJCXRyeToNCgkJCXNlbGYuYXBrID0gaW5wdXQoIlwwMzNbMTszN21bK10gXDAzM1sxOzM2bUZJTEUgUEFUSFwwMzNbMTszMW0gOiBcMDMzWzE7MzJtICIpDQoJCQlwcmludCAoJycpDQoJCQlzZWxmLmlkID0gb3BlbihzZWxmLmFwaykucmVhZCgpLnNwbGl0bGluZXMoKQ0KCQlleGNlcHQ6DQoJCQlwcmludCgnXG4gXDAzM1sxOzM3bVshXSBcMDMzWzE7MzFtRmlsZSBOb3QgRm91bmQgSW4gU3RvcmFnZScpDQoJCQlpbnB1dCgnXG5cMDMzWzE7MzdtWypdIFwwMzNbMTszNm1QcmVzcyBFbnRlciBUbyBCYWNrJyk7dmVyc2lvbigpDQogICAgICAgICAgICANCiAgICAgDQoJCXNlbGYuX19wbGVyX18oKQ0KCWRlZiBfX21iYXNpY19fKHNlbGYsIHVzZXIsIF9zZW1wYWtfKToNCgkJZ2xvYmFsIG9rLGNwLGxvb3ANCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIFx4MWJbMTs5N21bXDAzM1sxOzM2bUJILVRFQU1cMDMzWzE7MzdtXSB7bG9vcH0ve2xlbihzZWxmLmlkKX0gXDAzM1sxOzM3bVtcMDMzWzE7MzJtT0ste2xlbihvayl9XDAzM1sxOzM3bV0gIikNCgkJc3lzLnN0ZG91dC5mbHVzaCgpDQoJCWZvciBwdyBpbiBfc2VtcGFrXzoNCgkJCXB3ID0gcHcubG93ZXIoKQ0KCQkJdHJ5OiBvcy5ta2RpcignJykNCgkJCWV4Y2VwdDogcGFzcw0KCQkJdHJ5Og0KCQkJCXVhX3hpYW9taSA9IG9wZW4oJ2FnZW50LnR4dCcsICdyJykucmVhZCgpDQoJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToNCgkJCQl1YV94aWFvbWkgID0gJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQkFOL0VNQTtGQkxDL2lkX0lEO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScNCgkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KCQkJaGVhZGVyc18gPSB7Ikhvc3QiOiJtYmFzaWMuZmFjZWJvb2suY29tIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJ1c2VyLWFnZW50IjoiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwiZG50IjoiMSIsIngtcmVxdWVzdGVkLXdpdGgiOiJtYXJrLnZpYS5ncCIsInNlYy1mZXRjaC1zaXRlIjoic2FtZS1vcmlnaW4iLCJzZWMtZmV0Y2gtbW9kZSI6ImNvcnMiLCJzZWMtZmV0Y2gtdXNlciI6ImVtcHR5Iiwic2VjLWZldGNoLWRlc3QiOiJkb2N1bWVudCIsInJlZmVyZXIiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0NCgkJCXAgPSBzZXMuZ2V0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vaW5kZXgucGhwP25leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSUyRnRvb2xzJTJGZGVidWclMkZhY2Nlc3N0b2tlbiUyRicsIGhlYWRlcnM9aGVhZGVyc18pLnRleHQNCgkJCWRhdGFhID0geyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwiamF6b2VzdCI6cmUuc2VhcmNoKCduYW1lPSJqYXpvZXN0IiB2YWx1ZT0iKC4qPykiJywgc3RyKHApKS5ncm91cCgxKSwidWlkIjp1c2VyLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsIm5leHQiOiJodHRwczovL2RldmVsb3BlcnMuZmFjZWJvb2suY29tL3Rvb2xzL2RlYnVnL2FjY2Vzc3Rva2VuLyJ9DQoJCQlfaGVhZGVycyA9IHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjoibWF4LWFnZT0wIiwidXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyI6IjEiLCJvcmlnaW4iOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iLCJjb250ZW50LXR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLCJ1c2VyLWFnZW50IjoiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiYWNjZXB0IjoidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGIiwiYWNjZXB0LWVuY29kaW5nIjoiZ3ppcCwgZGVmbGF0ZSBiciIsImFjY2VwdC1sYW5ndWFnZSI6ImVuLUdCLGVuLVVTO3E9MC45LGVuO3E9MC44In0NCgkJCXBvID0gc2VzLnBvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvdmFsaWRhdGUtcGFzc3dvcmQvP3NoYmw9MCIsIGRhdGEgPSBkYXRhYSwgaGVhZGVycz1faGVhZGVycywgYWxsb3dfcmVkaXJlY3RzID0gRmFsc2UpDQoJCQlpZiAnY191c2VyJyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOg0KCQkJCXByaW50KCdcclwwMzNbMTszN21bXDAzM1sxOzMybUJIVC1PS1wwMzNbMTszN21dXDAzM1sxOzMybSAlcyB8ICVzICAgICAgJyAlICh1c2VyLHB3KSkNCgkJCQl3cnQgPSAnJXMgLSAlcycgJSAodXNlcixwdykNCgkJCQlvay5hcHBlbmQod3J0KQ0KCQkJCW9wZW4oJ0JIVF9Pay50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KCQkJCWJyZWFrDQoJCQllbGlmICdjaGVja3BvaW50JyBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpOg0KCQkJCXRyeToNCgkJCQkJdG9rZW4gPSBiYXluKCd0b2tlbi50eHQnKS5yZWFkKCkNCgkJCQkJY3BfdHRsID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9hY2Nlc3NfdG9rZW49JXMnJSh1c2VyLHRva2VuKSkuanNvbigpWydiaXJ0aGRheSddDQoJCQkJCW1vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKQ0KCQkJCQltb250aCA9IGJ1bGFuX3R0bFttb250aF0ucHJpbnQoJ1xyXDAzM1sxOzkxbVtCSFQtQ1BdICVzIHwgJXMg4oCiICVzICVzICVzJXMgICAgICAnICUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIsdGFodW4odXNlcikpKQ0KCQkJCQl3cnQgPSAnJXMgLSAlcyAtICVzICVzICVzJXMnICUgKHVzZXIscHcsZGF5LG1vbnRoLHllYXIsdGFodW4odXNlcikpDQoJCQkJCWNwLmFwcGVuZCh3cnQpDQoJCQkJCW9wZW4oJ0JIVF9DcC50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KCQkJCQlicmVhaw0KCQkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KCQkJCQltb250aCA9ICcnDQoJCQkJCWRheSAgID0gJycNCgkJCQkJeWVhciAgPSAnJw0KCQkJCWV4Y2VwdDoNCgkJCQkJcGFzcw0KCQkJCXByaW50KCdcclwwMzNbMTs5MW1bQkhULUNQXSAlcyB8ICVzJXMgICAgICAnICUgKHVzZXIscHcsdGFodW4odXNlcikpKQ0KCQkJCXdydCA9ICclcyAtICVzJXMnJSh1c2VyLHB3LHRhaHVuKHVzZXIpKQ0KCQkJCWNwLmFwcGVuZCh3cnQpDQoJCQkJb3BlbignQkhUX0NwLnR4dCcsJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpDQoJCQkJYnJlYWsNCgkJCWVsc2U6DQoJCQkJY29udGludWUNCgkJbG9vcCArPSAxDQoJZGVmIF9fcGxlcl9fKHNlbGYpOg0KCQlvcy5zeXN0ZW0oImNsZWFyIikNCgkJcHJpbnQoYmFubmVyKQ0KCQlwcmludCAoIlwwMzNbMTszN20gWzFdIFwwMzNbMTszNm1NRVRIT0QgRkFTVCAiKQ0KCQlwcmludCAoIlwwMzNbMTszN20gWzJdIFwwMzNbMTszNm1NRVRIT0QgTk9STUVMICIpDQoJCXByaW50ICgiXDAzM1sxOzM3bSBbM10gXDAzM1sxOzM2bU1FVEhPRCBNRURJVU0gIikNCgkJcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCgkJeWFuID0gaW5wdXQoJ1wwMzNbMTszN21bK10gXDAzM1sxOzM2bUNIT09TRSBPUFRJT04gXDAzM1sxOzMxbTogXDAzM1sxOzMybScpDQoJCWlmIHlhbiA9PSAnJzoNCgkJCXByaW50KCdcQ2hvb3NlIEVycm9yICcpDQoJCQlleGl0KCkNCgkJZWxpZiB5YW4gaW4gKCcxJywgJzAxJyk6DQoJCQlvcy5zeXN0ZW0oImNsZWFyIikNCgkJCXByaW50KGJhbm5lcikNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzMzbSBGSUxFIENMT05JTkcgT05MWSBPSyBJRFMgJykNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBUT1RBTCBJRFMgXDAzM1sxOzkxbTogXDAzM1sxOzMybSVzICcgJSBsZW4oc2VsZi5pZCkpDQoJCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykNCgkJCXByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQoJCQlwcmludCgnICAgICAgXDAzM1sxOzk3bVwwMzNbMTs0MW0gWyBJRiAgTk8gUkVTVUxUIFVTRSBBSVJQTEFORSBNT0RFIF0gXDAzM1swbVwwMzNbMTs5M20nKQ0KCQkJcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCgkJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTIwKSBhcyAoX25nZW50b3RfZ3JhdGlzXyk6DQoJCQkJZm9yIHludGt0cyBpbiBzZWxmLmlkOg0KCQkJCQl0cnk6DQoJCQkJCQl1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJ3wnKQ0KCQkJCQkJeHogPSBuYW1lLnNwbGl0KCcgJykNCgkJCQkJCWZpICwgbGEgPSBuYW1lLnNwbGl0KCcgJykNCgkJCQkJCWZpcnN0ID0gZmkubG93ZXIoKQ0KCQkJCQkJbGFzdCA9IGxhLmxvd2VyKCkNCgkJCQkJCWlmIGxlbih4eikgPT0gMToNCgkJCQkJCQlwd3ggPSBbZmlyc3QrJyAnK2xhc3QsIGZpcnN0K2xhc3QsIGZpcnN0KycxMjMnLCBmaXJzdCsnMTIzNDUnXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDI6DQoJCQkJCQkJcHd4ID0gW2ZpcnN0KycgJytsYXN0LCBmaXJzdCtsYXN0LCBmaXJzdCsnMTIzJywgZmlyc3QrJzEyMzQ1J10NCgkJCQkJCWVsaWYgbGVuKHh6KSA9PSAzOg0KCQkJCQkJCXB3eCA9IFtmaXJzdCsnICcrbGFzdCwgZmlyc3QrbGFzdCwgZmlyc3QrJzEyMycsIGZpcnN0KycxMjM0NSddDQoJCQkJCQllbGlmIGxlbih4eikgPT0gNDoNCgkJCQkJCQlwd3ggPSBbZmlyc3QrJyAnK2xhc3QsIGZpcnN0K2xhc3QsIGZpcnN0KycxMjMnLCBmaXJzdCsnMTIzNDUnXQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlwd3ggPSBbZmlyc3QrJyAnK2xhc3QsIGZpcnN0K2xhc3QsIGZpcnN0KycxMjMnLCBmaXJzdCsnMTIzNDUnXQ0KCQkJCQkJX25nZW50b3RfZ3JhdGlzXy5zdWJtaXQoc2VsZi5fX21iYXNpY19fLCB1aWQsIHB3eCkNCgkJCQkJZXhjZXB0Og0KCQkJCQkJcGFzcw0KCQkJb3MucmVtb3ZlKHNlbGYuYXBrKQ0KCQkJaGFzaWwob2ssY3ApDQoJCWVsaWYgeWFuIGluICgnMicsICcwMicpOg0KCQkJb3Muc3lzdGVtKCJjbGVhciIpDQoJCQlwcmludChiYW5uZXIpDQoJCQl0aW1lLnNsZWVwKDEpDQoJCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszM20gRklMRSBDTE9OSU5HIE9OTFkgT0sgSURTICcpDQoJCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gVE9UQUwgSURTIFwwMzNbMTs5MW06IFwwMzNbMTszMm0lcyAnICUgbGVuKHNlbGYuaWQpKQ0KCQkJcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzZtIFBST0NFU1MgSEFTIEJFRU4gU1RBUlRFRCcpDQoJCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQkJcHJpbnQoJyAgICAgIFwwMzNbMTs5N21cMDMzWzE7NDFtIFsgSUYgIE5PIFJFU1VMVCBVU0UgQUlSUExBTkUgTU9ERSBdIFwwMzNbMG1cMDMzWzE7OTNtJykNCgkJCXByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQoJCQl3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0yNSkgYXMgKF9uZ2VudG90X2dyYXRpc18pOg0KCQkJCWZvciB5bnRrdHMgaW4gc2VsZi5pZDoNCgkJCQkJdHJ5Og0KCQkJCQkJdWlkLCBuYW1lID0geW50a3RzLnNwbGl0KCd8JykNCgkJCQkJCXh6ID0gbmFtZS5zcGxpdCgnICcpDQoJCQkJCQlpZiBsZW4oeHopID09IDE6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyI3ODYiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDI6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyI3ODYiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDM6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyI3ODYiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDQ6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyI3ODYiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjc4NiIsIHh6WzBdKyIxMjM0NSJdDQoJCQkJCQlfbmdlbnRvdF9ncmF0aXNfLnN1Ym1pdChzZWxmLl9fbWJhc2ljX18sIHVpZCwgcHd4KQ0KCQkJCQlleGNlcHQ6DQoJCQkJCQlwYXNzDQoJCQlvcy5yZW1vdmUoc2VsZi5hcGspDQoJCQloYXNpbChvayxjcCkNCgkJZWxpZiB5YW4gaW4gKCczJywgJzAzJyk6DQoJCQlvcy5zeXN0ZW0oImNsZWFyIikNCgkJCXByaW50KGJhbm5lcikNCgkJCXRpbWUuc2xlZXAoMSkNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzMzbSBGSUxFIENMT05JTkcgT05MWSBPSyBJRFMgJykNCgkJCXByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBUT1RBTCBJRFMgXDAzM1sxOzkxbTogXDAzM1sxOzMybSVzICcgJSBsZW4oc2VsZi5pZCkpDQoJCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykNCgkJCXByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQoJCQlwcmludCgnICAgICAgXDAzM1sxOzk3bVwwMzNbMTs0MW0gWyBJRiAgTk8gUkVTVUxUIFVTRSBBSVJQTEFORSBNT0RFIF0gXDAzM1swbVwwMzNbMTs5M20nKQ0KCQkJcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCgkJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTM1KSBhcyAoX25nZW50b3RfZ3JhdGlzXyk6DQoJCQkJZm9yIHludGt0cyBpbiBzZWxmLmlkOg0KCQkJCQl0cnk6DQoJCQkJCQl1aWQsIG5hbWUgPSB5bnRrdHMuc3BsaXQoJ3wnKQ0KCQkJCQkJeHogPSBuYW1lLnNwbGl0KCcgJykNCgkJCQkJCWlmIGxlbih4eikgPT0gMToNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzFdK3h6WzBdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxpZiBsZW4oeHopID09IDI6DQoJCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elsxXSt4elswXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1Il0NCgkJCQkJCWVsaWYgbGVuKHh6KSA9PSAzOg0KCQkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMV0reHpbMF0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyIxMjM0NSJdDQoJCQkJCQllbGlmIGxlbih4eikgPT0gNDoNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzFdK3h6WzBdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJZWxzZToNCgkJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzFdK3h6WzBdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQiLCB4elswXSsiMTIzNDUiXQ0KCQkJCQkJX25nZW50b3RfZ3JhdGlzXy5zdWJtaXQoc2VsZi5fX21iYXNpY19fLCB1aWQsIHB3eCkNCgkJCQkJZXhjZXB0Og0KCQkJCQkJCXBhc3MNCgkJCW9zLnJlbW92ZShzZWxmLmFwaykNCgkJCWhhc2lsKG9rLGNwKQ0KCQllbHNlOg0KCQkJcHJpbnQoJ1xuU2FsYWgnKQ0KCQkJdGltZS5zbGVlcCgxKQ0KCQkJc2VsZi5fX3BsZXJfXygpDQoJCQkNCmRlZiBwdWJsaWNjcmFjaygpOg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKTtwcmludChiYW5uZXIpDQogICAgdHJ5Og0KICAgICAgICBhY2Nlc3NfdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywgJ3InKS5yZWFkKCkNCiAgICBleGNlcHQ6DQogICAgICAgIGxvZ2luKCkNCiAgICB0cnk6DQogICAgICAgIHIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK2FjY2Vzc190b2tlbikudGV4dA0KICAgICAgICBxID0ganNvbi5sb2FkcyhyKQ0KICAgICAgICB1bmFtZSA9IHFbJ25hbWUnXQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbG9naW4oKQ0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KICAgIHByaW50KGJhbm5lcikNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiAucHN5MS50eHQnKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIC5wc3kyLnR4dCcpDQogICAgcHJpbnQoJyBcMDMzWzE7OTZtTG9nZ2VkIHVzZXIgOiBcMDMzWzE7OTJtICAnK3VuYW1lKQ0KICAgIHByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQogICAgcHJpbnQoJyAgICAgICAgICBcMDMzWzE7MzJtWyBQVUJMSUMgQ0xPTklORyBNRU5VIENQL09LIE1JWCBdICcpDQogICAgcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCiAgICBwcmludCgnXDAzM1sxOzM3bVsxXSBcMDMzWzE7MzZtUFVCTElDIENMT05JTkcnKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtWzBdIFwwMzNbMTszMW1CQUNLJykNCiAgICBwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KICAgIF9BZGlfXyA9IGlucHV0KCdcMDMzWzE7MzdtWytdIFwwMzNbMTszMm1DSE9PU0UgT1BUSU9OIDogJykNCiAgICBpZiBfQWRpX18gaW4gKCcxJywgJzAxJyk6DQogICAgICAgIF9fY3JhY2tpbmdfXygpLnBsZXJyKCkNCiAgICBpZiBfQWRpX18gaW4gKCcwJywgJzAwJyk6DQogICAgCXRpbWUuc2xlZXAoMik7dmVyc2lvbigpDQogICAgZWxzZToNCiAgICAJcHJpbnQoJyAgICAgICAgSW52YWxpZCBTZWxlY3QnKQ0KICAgIHRpbWUuc2xlZXAoMSkNCiAgICB2ZXJzaW9uKCkgDQogICAgDQpjbGFzcyBfX2NyYWNraW5nX186DQoJZGVmIF9faW5pdF9fKHNlbGYpOg0KCQlzZWxmLmlkID0gW10NCgkJaWYgbm90IG9zLnBhdGguZXhpc3RzKCJhY2Nlc3NfdG9rZW4udHh0Iik6DQoJCQlsb2dpbigpDQoJZGVmIHBsZXJyKHNlbGYpOg0KCQlvcy5zeXN0ZW0oImNsZWFyIik7cHJpbnQoYmFubmVyKTthY2Nlc3NfdG9rZW4gPSBvcGVuKCdhY2Nlc3NfdG9rZW4udHh0JywncicpLnJlYWQoKTtkaWxsPVtdO29zLnN5c3RlbSgicm0gLXJmIC5wdWJsaWNvdXQudHh0IikNCgkJcHJpbnQoJyAgICAgICAgICBcMDMzWzE7MzJtWyBQVUJMSUMgQ0xPTklORyBDUC9PSyBNSVggXSAnKQ0KCQlwcmludCg1MCoiXDAzM1sxOzk3bV8iKQ0KCQlzZWxmLmFwayA9IGlucHV0KCJcMDMzWzE7MzdtWytdXDAzM1sxOzk2bSBQVUJMSUMgSUQgXDAzM1sxOzkxbTogIFwwMzNbMTs5Mm0iKQ0KCQkjc2VsZi5pZCA9IG9wZW4oJy5wdWJsaWNvdXQudHh0JykucmVhZCgpLnNwbGl0bGluZXMoKQ0KCQlwcGsgPSAoJy5wdWJsaWNvdXQnICsgJy50eHQnKS5yZXBsYWNlKCcgJywgJ18nKQ0KCQl5cyA9IG9wZW4ocHBrLCAnYScpDQoJCXJnID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3NlbGYuYXBrKycvZnJpZW5kcz9saW1pdD01MDAwJmFjY2Vzc190b2tlbj0nK2FjY2Vzc190b2tlbikudGV4dA0KCQlyZ3EgPSBqc29uLmxvYWRzKHJnKQ0KCQlpZHNhdmU9b3BlbignLnB1YmxpY291dC50eHQnLCAnYScpDQoJCWZvciBpbmF5YXQgaW4gcmdxWydkYXRhJ106DQoJCQl1aWRzID0gaW5heWF0WydpZCddDQoJCQlkaWxsLmFwcGVuZCh1aWRzKQ0KCQkJbm0gPSBpbmF5YXRbJ25hbWUnXQ0KCQkJZmlyc3RfbmFtZSA9IG5tLnNwbGl0KCcgJylbMF0NCgkJCXRyeToNCgkJCQlsYXN0X25hbWUgPSBubS5zcGxpdCgnICcpWzFdDQoJCQlleGNlcHQ6DQoJCQkJbGFzdF9uYW1lID0gJ0toYW4nDQoJCQlpZHNhdmUud3JpdGUodWlkcysnfCcrZmlyc3RfbmFtZSsnICcrbGFzdF9uYW1lKydcbicpDQoJCXNlbGYuX19wbGVyX18oKQ0KCWRlZiBfX21iYXNpY19fKHNlbGYsIHVzZXIsIF9zZW1wYWtfKToNCgkJZ2xvYmFsIG9rLGNwLGxvb3ANCgkJc3lzLnN0ZG91dC53cml0ZShmIlxyIFx4MWJbMTs5N21bXDAzM1sxOzM2bUFkaVwwMzNbMTszN21dIHtsb29wfS97bGVuKHNlbGYuaWQpfSBcMDMzWzE7MzdtW1wwMzNbMTszNm1UT1RBTC1JZHpcMDMzWzE7MzdtXSBcMDMzWzE7MzdtW1wwMzNbMTszNm17bGVuKG9rKX1cMDMzWzE7MzdtXSIpDQoJCXN5cy5zdGRvdXQuZmx1c2goKQ0KCQlmb3IgcHcgaW4gX3NlbXBha186DQoJCQlwdyA9IHB3Lmxvd2VyKCkNCgkJCXRyeTogb3MubWtkaXIoJycpDQoJCQlleGNlcHQ6IHBhc3MNCgkJCXRyeToNCgkJCQlwc3lhZ2VudHMgPSByYW5kb20uY2hvaWNlKGxpbmVycykNCgkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOg0KCQkJCXBzeWFnZW50cyAgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJw0KCQkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQoJCQloZWFkZXJzXyA9IHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsInVzZXItYWdlbnQiOiJOb2tpYUMzLTAwLzUuMCAoMDguNjMpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJkbnQiOiIxIiwieC1yZXF1ZXN0ZWQtd2l0aCI6Im1hcmsudmlhLmdwIiwic2VjLWZldGNoLXNpdGUiOiJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjoiY29ycyIsInNlYy1mZXRjaC11c2VyIjoiZW1wdHkiLCJzZWMtZmV0Y2gtZGVzdCI6ImRvY3VtZW50IiwicmVmZXJlciI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS8iLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQ0KCQkJcCA9IHNlcy5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9pbmRleC5waHA/bmV4dD1odHRwcyUzQSUyRiUyRmRldmVsb3BlcnMuZmFjZWJvb2suY29tJTJGdG9vbHMlMkZkZWJ1ZyUyRmFjY2Vzc3Rva2VuJTJGJywgaGVhZGVycz1oZWFkZXJzXykudGV4dA0KCQkJZGF0YWEgPSB7ImxzZCI6cmUuc2VhcmNoKCduYW1lPSJsc2QiIHZhbHVlPSIoLio/KSInLCBzdHIocCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocCkpLmdyb3VwKDEpLCJ1aWQiOnVzZXIsImZsb3ciOiJsb2dpbl9ub19waW4iLCJwYXNzIjpwdywibmV4dCI6Imh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vdG9vbHMvZGVidWcvYWNjZXNzdG9rZW4vIn0NCgkJCV9oZWFkZXJzID0geyJIb3N0IjoibWJhc2ljLmZhY2Vib29rLmNvbSIsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsIm9yaWdpbiI6Imh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IGNsb3Nlcl0vW2luc2VydGVkIGJ5IGN5dGhvbiB0byBhdm9pZCBjb21tZW50IHN0YXJ0XSo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJ4LXJlcXVlc3RlZC13aXRoIjoibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6InNhbWUtb3JpZ2luIiwic2VjLWZldGNoLW1vZGUiOiJjb3JzIiwic2VjLWZldGNoLXVzZXIiOiJlbXB0eSIsInNlYy1mZXRjaC1kZXN0IjoiZG9jdW1lbnQiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2luZGV4LnBocD9uZXh0PWh0dHBzJTNBJTJGJTJGZGV2ZWxvcGVycy5mYWNlYm9vay5jb20lMkZ0b29scyUyRmRlYnVnJTJGYWNjZXNzdG9rZW4lMkYiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIGJyIiwiYWNjZXB0LWxhbmd1YWdlIjoiZW4tR0IsZW4tVVM7cT0wLjksZW47cT0wLjgifQ0KCQkJcG8gPSBzZXMucG9zdCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC92YWxpZGF0ZS1wYXNzd29yZC8/c2hibD0wIiwgZGF0YSA9IGRhdGFhLCBoZWFkZXJzPV9oZWFkZXJzLCBhbGxvd19yZWRpcmVjdHMgPSBGYWxzZSkNCgkJCWlmICdjX3VzZXInIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCk6DQoJCQkJcHJpbnQoJ1xyXDAzM1sxOzM3bVtcMDMzWzE7MzJtQkhULU9LXDAzM1sxOzM3bV1cMDMzWzE7MzJtICVzIHwgJXMgICAgICAnICUgKHVzZXIscHcpKQ0KCQkJCXdydCA9ICclcyAtICVzJyAlICh1c2VyLHB3KQ0KCQkJCW9rLmFwcGVuZCh3cnQpDQoJCQkJb3Blbignb2sudHh0JywnYScpLndyaXRlKCclc1xuJyAlIHdydCkNCgkJCQlicmVhaw0KCQkJZWxpZiAnY2hlY2twb2ludCcgaW4gc2VzLmNvb2tpZXMuZ2V0X2RpY3QoKToNCgkJCQlwcmludCgnXHJcMDMzWzE7MzFtW1wwMzNbMTszMG1CSFQtQ1BcMDMzWzE7MzFtXVwwMzNbMTszMG0gJXMgfCAlcyAgICAgICcgJSAodXNlcixwdykpDQoJCQkJd3J0ID0gJyVzIC0gJXMnICUgKHVzZXIscHcpDQoJCQkJb2suYXBwZW5kKHdydCkNCgkJCQlvcGVuKCdjcC50eHQnLCdhJykud3JpdGUoJyVzXG4nICUgd3J0KQ0KCQkJCWJyZWFrDQoJCQllbHNlOg0KCQkJCWNvbnRpbnVlDQoJCWxvb3AgKz0gMQ0KCWRlZiBfX3BsZXJfXyhzZWxmKToNCgkJc2VsZi5pZCA9IG9wZW4oJy5wdWJsaWNvdXQudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCgkJb3Muc3lzdGVtKCJjbGVhciIpO3ByaW50KGJhbm5lcik7dGltZS5zbGVlcCgxKQ0KCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszM20gUFVCTElDIENMT05JTkcgQ1AvT0sgSURTIE1JWCAnKQ0KCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gVE9UQUwgSURTIFwwMzNbMTs5MW06IFwwMzNbMTszMm0lcyAnICUgbGVuKHNlbGYuaWQpKQ0KCQlwcmludCgnXDAzM1sxOzM3bVsrXVwwMzNbMTszNm0gUFJPQ0VTUyBIQVMgQkVFTiBTVEFSVEVEJykNCgkJcHJpbnQoNTAqIlwwMzNbMTszN21fIikNCgkJcHJpbnQoJyAgICAgIFwwMzNbMTs5N21cMDMzWzE7NDFtIFsgSUYgIE5PIFJFU1VMVCBVU0UgQUlSUExBTkUgTU9ERSBdIFwwMzNbMG1cMDMzWzE7OTNtJykNCgkJcHJpbnQoNTAqIlwwMzNbMTszN21fIikNCgkJd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MjApIGFzIChfbmdlbnRvdF9ncmF0aXNfKToNCgkJCWZvciB5bnRrdHMgaW4gc2VsZi5pZDoNCgkJCQl0cnk6DQoJCQkJCXVpZCwgbmFtZSA9IHludGt0cy5zcGxpdCgnfCcpDQoJCQkJCXh6ID0gbmFtZS5zcGxpdCgnICcpDQoJCQkJCWlmIGxlbih4eikgPT0gMToNCgkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdKyc3ODYnLCB4elswXSt4elswXSsnMTIzNCddDQoJCQkJCWVsaWYgbGVuKHh6KSA9PSAyOg0KCQkJCQkJcHd4ID0gW25hbWUsIHh6WzBdK3h6WzFdLCB4elswXSsiMTIzIiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0rJzc4NicsIHh6WzBdK3h6WzBdKycxMjM0J10NCgkJCQkJZWxpZiBsZW4oeHopID09IDM6DQoJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiLCB4elswXSsnNzg2JywgeHpbMF0reHpbMF0rJzEyMzQnXQ0KCQkJCQllbGlmIGxlbih4eikgPT0gNDoNCgkJCQkJCXB3eCA9IFtuYW1lLCB4elswXSt4elsxXSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdKyc3ODYnLCB4elswXSt4elswXSsnMTIzNCddDQoJCQkJCWVsc2U6DQoJCQkJCQlwd3ggPSBbbmFtZSwgeHpbMF0reHpbMV0sIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNDUiLCB4elswXSsnNzg2JywgeHpbMF0reHpbMF0rJzEyMzQnXQ0KCQkJCQlfbmdlbnRvdF9ncmF0aXNfLnN1Ym1pdChzZWxmLl9fbWJhc2ljX18sIHVpZCwgcHd4KQ0KCQkJCWV4Y2VwdDoNCgkJCQkJcGFzcw0KCQloYXNpbChvayxjcCkNCgkJDQpkZWYgY3JlYXRlX2ZpbGUoKToNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJyk7cHJpbnQoYmFubmVyKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIGFkaTEudHh0JykNCiAgICB0cnk6DQogICAgICAgIGFjY2Vzc190b2tlbiA9IG9wZW4oJ2FjY2Vzc190b2tlbi50eHQnLCAncicpLnJlYWQoKQ0KICAgIGV4Y2VwdDoNCiAgICAgICAgbG9naW4oKQ0KICAgIHRyeToNCiAgICAgICAgciA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPScrYWNjZXNzX3Rva2VuKS50ZXh0DQogICAgICAgIHEgPSBqc29uLmxvYWRzKHIpDQogICAgICAgIHVuYW1lID0gcVsnbmFtZSddDQogICAgZXhjZXB0Og0KICAgICAgICBsb2dpbigpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgcHJpbnQoYmFubmVyKQ0KICAgIG9zLnN5c3RlbSgncm0gLXJmIC5wc3kxLnR4dCcpDQogICAgb3Muc3lzdGVtKCdybSAtcmYgLnBzeTIudHh0JykNCiAgICBwcmludCgnIFwwMzNbMTs5Nm1Mb2dnZWQgdXNlciA6IFwwMzNbMTs5Mm0gICcrdW5hbWUpDQogICAgcHJpbnQoNTAqIlwwMzNbMTs5N21fIikNCiAgICBudXNyYXQgPSBbXQ0KICAgIHRyeToNCiAgICAgICAgbGltaXRfdXNlciA9IDENCiAgICBleGNlcHQ6DQogICAgICAgIGxpbWl0X3VzZXIgPSAxDQogICAgY291bnQgPSAwDQogICAgZm9yIGZpciBpbiByYW5nZShsaW1pdF91c2VyKToNCiAgICAgICAgY291bnQgKz0xDQogICAgICAgIHVkaXQgPSBpbnB1dCgnIFwwMzNbMTszN21bXDAzM1sxOzMybSVzXDAzM1sxOzM3bV0gXDAzM1sxOzM2bUlOUFVUIElEIFwwMzNbMTszMW06IFwwMzNbMTszMm0nJShjb3VudCkpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHRmaWxlID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICAgICAgICAgIGZyID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK3VkaXQrJy9mcmllbmRzP2xpbWl0PTUwMDAmYWNjZXNzX3Rva2VuPScrdGZpbGUpLnRleHQNCiAgICAgICAgICAgIHFmciA9IGpzb24ubG9hZHMoZnIpDQogICAgICAgICAgICB0ZW1wX3NhdmUgPSBvcGVuKCcucHN5MS50eHQnLCAnYScpDQogICAgICAgICAgICBmb3IgZGF0YSBpbiBxZnJbJ2RhdGEnXToNCiAgICAgICAgICAgICAgICB1aWRzID0gZGF0YVsnaWQnXQ0KICAgICAgICAgICAgICAgIGlmIHVpZHMgaW4gbnVzcmF0Og0KICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgbnVzcmF0LmFwcGVuZCh1aWRzKQ0KICAgICAgICAgICAgICAgICAgICB0ZW1wX3NhdmUud3JpdGUodWlkcysnXG4nKQ0KICAgICAgICAgICAgdGVtcF9zYXZlLmNsb3NlKCkNCiAgICAgICAgZXhjZXB0IEtleUVycm9yOg0KICAgICAgICAgICAgaWYgJ2ludmFsaWQnIGluIHN0cihmcik6DQogICAgICAgICAgICAgICAgcHJpbnQoJyAgTG9nZ2VkIHRva2VuIGhhcyBleHBpcmVkIC4uLicpDQogICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBwcmludCh1ZGl0KydGcmllbmQgSXMgUHJpdmF0ZSAnKQ0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICBwcmludChiYW5uZXIpDQogICAgcHJpbnQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzZtIFRPVEFMIElEUyBcMDMzWzE7MzFtOlwwMzNbMTs5Mm0gJytzdHIobGVuKG51c3JhdCkpKQ0KICAgIHByaW50KDUwKiJcMDMzWzE7OTdtXyIpDQogICAgdHJ5Og0KICAgICAgICBhc2tfbGluayA9IDENCiAgICBleGNlcHQ6DQogICAgICAgIGFza19saW5rID0gMQ0KICAgIGNvbXBsZXRlZCA9IDANCiAgICBmb3IgbGlua3MgaW4gcmFuZ2UoYXNrX2xpbmspOg0KICAgICAgICBjb21wbGV0ZWQgKz0xDQogICAgICAgIGxpID0gKCcxJykNCiAgICAgICAgb3Muc3lzdGVtKCdjYXQgLmFkaTEudHh0IHwgZ3JlcCAnK2xpKycgPj4gLnBzeTIudHh0JykNCiAgICAgICAgDQogICAgc2F2ZV9maWxlID0gaW5wdXQoJ1wwMzNbMTszN21bK11cMDMzWzE7MzNtIEVYQU1QTEUgXDAzM1sxOzMxbTogXDAzM1sxOzM2bS9zZGNhcmQvZmlsZW5hbWUudHh0XG5cMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBTQVZFIEZJTEUgQVMgXDAzM1sxOzMxbTogXDAzM1sxOzMybScpDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQogICAgbGluZXMgPSBvcGVuKCcuYWRpMi50eHQnLCAncicpLnJlYWRsaW5lcygpDQogICAgcHJpbnQoYmFubmVyKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtWytdIFwwMzNbMTs5Nm1UT1RBTCBJRFMgXDAzM1sxOzMxbTogXDAzM1sxOzkybScrc3RyKGxlbihsaW5lcykpKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtWytdIFwwMzNbMTs5Nm1XQUlUIENPTExFQ1RJTkcgSURTICcpDQogICAgcHJpbnQoNTAqIlwwMzNbMTszN21fIikNCiAgICBmaWxlaWQgPSAnLnBzeS50eHQnDQogICAgZmlsZWlkb3BlbiA9IG9wZW4oZmlsZWlkLCAncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkNCiAgICBkaWxsID0gW10NCiAgICBmb3IgaWRzIGluIGZpbGVpZG9wZW46DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHRmaWxlID0gb3BlbignYWNjZXNzX3Rva2VuLnR4dCcsJ3InKS5yZWFkKCkNCiAgICAgICAgICAgIHJnID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkcysnL2ZyaWVuZHM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49Jyt0ZmlsZSkudGV4dA0KICAgICAgICAgICAgcmdxID0ganNvbi5sb2FkcyhyZykNCiAgICAgICAgICAgIGlkc2F2ZT1vcGVuKHNhdmVfZmlsZSwgJ2EnKQ0KICAgICAgICAgICAgZm9yIGluYXlhdCBpbiByZ3FbJ2RhdGEnXToNCiAgICAgICAgICAgICAgICB1aWRzID0gaW5heWF0WydpZCddDQogICAgICAgICAgICAgICAgZGlsbC5hcHBlbmQodWlkcykNCiAgICAgICAgICAgICAgICBubSA9IGluYXlhdFsnbmFtZSddDQogICAgICAgICAgICAgICAgZmlyc3RfbmFtZSA9IG5tLnNwbGl0KCcgJylbMF0NCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZSA9IG5tLnNwbGl0KCcgJylbMV0NCiAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZSA9ICdLaGFuJw0KICAgICAgICAgICAgICAgIGlkc2F2ZS53cml0ZSh1aWRzKyd8JytmaXJzdF9uYW1lKycgJytsYXN0X25hbWUrJ1xuJykNCiAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTdtIFtcMDMzWzE7MzJtQkgtVEVBTVwwMzNbMTszN21dIFwwMzNbMTszNm1TVUNDRVNTRlVMTCBEVU1QIEZST01cMDMzWzE7MzdtICcraWRzKQ0KICAgICAgICAgICAgaWRzYXZlLmNsb3NlKCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICANCiAgICAgICAgICAgIGlmICdpbnZhbGlkJyBpbiBzdHIocmcpOg0KICAgICAgICAgICAgICAgIHByaW50KCcgIFRva2VuIGhhcyBleHBpcmVkLCB0cnkgYWdhaW4gLi4uJykNCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1yZiAucHN5MS50eHQnKQ0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW1GaWVsZCBFcnJvciBTb21ldGhpbmcgV3JvbmdcMDMzWzBtJykNCiAgICAgICAgICAgICAgICBwcmludCg1NCoiXyIpDQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLnBzeTEudHh0JykNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgbGVuaWQgPSBvcGVuKHNhdmVfZmlsZSwgJ3InKS5yZWFkbGluZXMoKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtWytdXDAzM1sxOzM2bSBQUk9DRVNTIENPTVBMRVRFRCAgJykNCiAgICBvcy5zeXN0ZW0oJ3JtIC1yZiAuYWRpMS50eHQnKQ0KICAgIHByaW50KCdcMDMzWzE7MzdtWytdIFwwMzNbMTszNm1UT1RBTCBJRFMgIFwwMzNbMTszMW06IFwwMzNbMTszMm0nK3N0cihsZW4obGVuaWQpKSkNCiAgICBwcmludCgnXDAzM1sxOzM3bVsrXSBcMDMzWzE7MzZtRklMRSBTQVZFRCBBUyBcMDMzWzE7MzFtOiBcMDMzWzE7MzJtJytzYXZlX2ZpbGUpDQogICAgaW5wdXQoJ1wwMzNbMTszN21bK10gXDAzM1sxOzM2bVBSRVNTIEVOVEVSIFRPIEJBQ0sgJykNCiAgICB2ZXJzaW9uKCkNCmlmIG5vdCBvcy5wYXRoLmV4aXN0cygiLnBzeXdvcmsudHh0Iik6DQoJb3BlbigiLnBzeXdvcmsudHh0IiwgJ3cnKS5jbG9zZSgpDQpjbGFzcyBsb2FkOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmKToNCiAgICAgICAgXyA9ICcnDQogICAgICAgIF9fID0gaW50KCczMCcpDQogICAgICAgIF9fXyA9IGludCgnMCcpDQogICAgICAgIF9fIC09IDENCiAgICAgICAgX19fICs9IDENCiAgICAgICAgZm9yIHQgaW4gcmFuZ2UoaW50KCIxIikpOg0KICAgICAgICAgICAgcHJpbnQoJ1xyIExvYWRpbmcgLi4uJykNCiAgICAgICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEpDQogICAgICAgIHByaW50KCdcbicpDQpiYW5uZXIgPSAiIiINClwwMzNbOTM7MW0gIF9fX18gICAgICAgIF8gICAgXyAgIF9fX19fX18gX19fX19fICAgICAgICAgIF9fICBfXyANClwwMzNbMTszMm0gfCAgXyBcICAgICAgfCB8ICB8IHwgfF9fICAgX198ICBfX19ffCAgIC9cICAgfCAgXC8gIHwNClwwMzNbOTE7MW0gfCB8XykgfF9fX19ffCB8X198IHwgICAgfCB8ICB8IHxfXyAgICAgLyAgXCAgfCBcICAvIHwNClwwMzNbOTU7MW0gfCAgXyA8X19fX19ffCAgX18gIHwgICAgfCB8ICB8ICBfX3wgICAvIC9cIFwgfCB8XC98IHwNClwwMzNbOTQ7MW0gfCB8XykgfCAgICAgfCB8ICB8IHwgICAgfCB8ICB8IHxfX19fIC8gX19fXyBcfCB8ICB8IHwNClwwMzNbOTM7MW0gfF9fX18vICAgICAgfF98ICB8X3wgICAgfF98ICB8X19fX19fL18vICAgIFxfXF98ICB8X3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICANClwwMzNbMDs5NW3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZANClwwMzNbMDs5NG0gWyFdXDAzM1swOzkxbVRPT0wgT1dFUiA6XDAzM1swOzkybfCdkJnwnZCA8J2Qh/CdkIjwnZCDIPCdkIfwnZCU8J2QkvCdkJLwnZCA8J2QiPCdkI0NClwwMzNbMDs5NG0gWyFdXDAzM1swOzkxbVRPT0wgTkFNRSA6XDAzM1swOzkybfCdkI/wnZCR8J2Qji3wnZCF8J2QiPCdkJHwnZCEDQpcMDMzWzA7OTRtIFshXVwwMzNbMDs5MW1WRVJTSU9OICAgOlwwMzNbMDs5Mm0zLjAuNQ0KXDAzM1swOzk0bSBbIV1cMDMzWzA7OTFtR1JPVVAgICAgIDpcMDMzWzA7OTJt8J2QgfCdkIvwnZCA8J2QgvCdkIog8J2Qh/CdkJTwnZCN8J2Qk/CdkITwnZCRIPCdkJPwnZCE8J2QgPCdkIwNClwwMzNbMDs5NW3ilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAiIiINCg0KdHJ5Og0KICAgIGtleTE9b3BlbigiL3N0b3JhZ2UvZW11bGF0ZWQvMC9hbmRyb2lkOC50eHQiLCdyJykucmVhZCgpDQpleGNlcHQgSU9FcnJvcjoNCiAgICBrb2s9b3BlbigiL3N0b3JhZ2UvZW11bGF0ZWQvMC9hbmRyb2lkOC50eHQiLCd3JykNCiAgICBteWlkPXV1aWQudXVpZDQoKS5oZXhbOjEyXQ0KICAgIGY9IkNPQlJBLUxJTlVYIg0KICAgIGtleT1teWlkK2YNCiAgICBrb2sud3JpdGUoa2V5KQ0KICAgIGtvay5jbG9zZSgpDQogICAgcHJpbnQoa2V5KQ0KDQphPXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9naXRodWIuY29tL2phaGllZC9FQy0xNzAvYmxvYi9tYWluL0FjLnR4dCIpLnRleHQNCmI9c3RyKGEpDQprZXkxPW9wZW4oIi9zdG9yYWdlL2VtdWxhdGVkLzAvYW5kcm9pZDgudHh0IiwncicpLnJlYWQoKQ0Ka2V5Mj1zdHIoa2V5MSkgIA0KaWYga2V5MiBpbiBiOg0KICAgIHBhc3MNCiAgICANCmVsc2U6DQogICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgcHJpbnQNCiAgICBwcmludCgiWW91ciBrZXkgIDogIitrZXkyKQ0KICAgIHByaW50KCJcblx0XHRDb250YWN0IEFkbWluICIpDQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vUk9PVC5PRi5KQUhJRUQnKQ0KICAgIGV4aXQoKQ0KDQpjdCA9IGRhdGV0aW1lLm5vdygpDQpuID0gY3QubW9udGgNCm1vbnRoc3ggPSBbIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiXQ0KdHJ5Og0KCWlmIG4gPCAwIG9yIG4gPiAxMjoNCgkJZXhpdCgpDQoJblRlbXAgPSBuIC0gMQ0KZXhjZXB0IFZhbHVlRXJyb3I6DQoJZXhpdCgpDQp1cmxzPSJodHRwczovL2J1c2luZXNzLmZhY2Vib29rLmNvbS9idXNpbmVzc19sb2NhdGlvbnMiDQpfc2VzPXJlcXVlc3RzLlNlc3Npb24oKQ0KDQoNCmlmIF9fbmFtZV9fPT0nX19tYWluX18nOg0KCW9zLnN5c3RlbSgnZ2l0IHB1bGwnKQ0KCW1haW4oKQ0K"))